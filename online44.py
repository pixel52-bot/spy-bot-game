
import threading
import time
import telebot
from telebot import types
import random
from flask import Flask
from threading import Thread

app = Flask('')

@app.route('/')
def home():
    return "OK"

def run():
    app.run(host='0.0.0.0', port=8080)

def keep_alive():
    t = Thread(target=run)
    t.start()

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
keep_alive()

bot = telebot.TeleBot('8312989642:AAHnXUK1JBJamX_YtcyzZIVci5sk4tTmHIs')

# --- –î–ê–ù–ù–´–ï ---
themes = {
    "üåç –õ–æ–∫–∞—Ü–∏–∏": [
    "–®–∫–æ–ª–∞", "–î–µ—Ç—Å–∫–∏–π —Å–∞–¥", "–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "–ë–æ–ª—å–Ω–∏—Ü–∞", "–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞", "–ê–ø—Ç–µ–∫–∞", 
    "–ú–∞–≥–∞–∑–∏–Ω", "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç", "–†—ã–Ω–æ–∫", "–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä", "–ë–∞–Ω–∫", "–ü–æ—á—Ç–∞",
    "–ü–∞—Ä–∫", "–ó–æ–æ–ø–∞—Ä–∫", "–¶–∏—Ä–∫", "–î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞", "–°—Ç–∞–¥–∏–æ–Ω", "–ë–∞—Å—Å–µ–π–Ω",
    "–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä", "–¢–µ–∞—Ç—Ä", "–ú—É–∑–µ–π", "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞", "–í—ã—Å—Ç–∞–≤–∫–∞", "–ö–æ–Ω—Ü–µ—Ä—Ç",
    "–†–µ—Å—Ç–æ—Ä–∞–Ω", "–ö–∞—Ñ–µ", "–°—Ç–æ–ª–æ–≤–∞—è", "–ü–∏—Ü—Ü–µ—Ä–∏—è", "–ú–∞–∫–¥–æ–Ω–∞–ª–¥—Å", "–ö–æ—Ñ–µ–π–Ω—è",
    "–ü–ª—è–∂", "–ë–∞–∑–∞ –æ—Ç–¥—ã—Ö–∞", "–õ–µ—Å", "–ì–æ—Ä—ã", "–†–µ–∫–∞", "–û–∑–µ—Ä–æ", "–î–µ—Ä–µ–≤–Ω—è", "–î–∞—á–∞",
    "–ê—ç—Ä–æ–ø–æ—Ä—Ç", "–í–æ–∫–∑–∞–ª", "–ú–µ—Ç—Ä–æ", "–û—Å—Ç–∞–Ω–æ–≤–∫–∞", "–ó–∞–ø—Ä–∞–≤–∫–∞", "–ê–≤—Ç–æ–º–æ–π–∫–∞",
    "–û—Ç–µ–ª—å", "–•–æ—Å—Ç–µ–ª", "–ü–æ–¥—ä–µ–∑–¥", "–õ–∏—Ñ—Ç", "–ö–≤–∞—Ä—Ç–∏—Ä–∞", "–ö—É—Ö–Ω—è", "–í–∞–Ω–Ω–∞—è",
    "–¢—Ä–µ–Ω–∞–∂–µ—Ä–Ω—ã–π –∑–∞–ª", "–§–∏—Ç–Ω–µ—Å-–∫–ª—É–±", "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã", "–ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–∞—è",
    "–ü–æ–ª–∏—Ü–∏—è", "–ü–æ–∂–∞—Ä–Ω–∞—è —á–∞—Å—Ç—å", "–°—É–¥", "–¢—é—Ä—å–º–∞", "–í–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞", "–°—Ç—Ä–æ–π–∫–∞",
    "–û—Ñ–∏—Å", "–°–∫–ª–∞–¥", "–ó–∞–≤–æ–¥", "–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è", "–ì–∞—Ä–∞–∂", "–ß–µ—Ä–¥–∞–∫", "–ü–æ–¥–≤–∞–ª",
    "–ö–æ—Ä–∞–±–ª—å", "–õ–æ–¥–∫–∞", "–ü–æ–¥–≤–æ–¥–Ω–∞—è –ª–æ–¥–∫–∞", "–°–∞–º–æ–ª–µ—Ç", "–í–µ—Ä—Ç–æ–ª–µ—Ç", "–ü–æ–µ–∑–¥", 
    "–ê–≤—Ç–æ–±—É—Å", "–¢–∞–∫—Å–∏", "–¢—Ä–∞–º–≤–∞–π", "–¢—Ä–æ–ª–ª–µ–π–±—É—Å", "–ì—Ä—É–∑–æ–≤–∏–∫", "–ö–æ—Å–º–æ—Å",
    "–°—Ç–∞–Ω—Ü–∏—è –ú–ö–°", "–õ—É–Ω–∞", "–ú–∞—Ä—Å", "–ü—É—Å—Ç—ã–Ω—è", "–î–∂—É–Ω–≥–ª–∏", "–ü–µ—â–µ—Ä–∞",
    "–¶–µ—Ä–∫–æ–≤—å", "–ó–∞–º–æ–∫", "–î–≤–æ—Ä–µ—Ü", "–ú—É–∑–µ–π –∏—Å–∫—É—Å—Å—Ç–≤", "–ü–ª–∞–Ω–µ—Ç–∞—Ä–∏–π", "–ê–∫–≤–∞–ø–∞—Ä–∫",
    "–ö–∞—Ç–æ–∫", "–ë–æ—É–ª–∏–Ω–≥", "–ë–∏–ª—å—è—Ä–¥", "–ù–æ—á–Ω–æ–π –∫–ª—É–±", "–ö–∞—Ä–∞–æ–∫–µ", "–¢–∏—Ä", "–†—ã–±–∞–ª–∫–∞",
    "–û—Ö–æ—Ç–∞", "–û–≥–æ—Ä–æ–¥", "–¢–µ–ø–ª–∏—Ü–∞", "–ü–∞—Å–µ–∫–∞", "–§–µ—Ä–º–∞", "–ö–æ–Ω—é—à–Ω—è",
],
    "üè∞ Clash Royale": [
    "–†—ã—Ü–∞—Ä—å", "–õ—É—á–Ω–∏—Ü—ã", "–ì–∏–≥–∞–Ω—Ç", "–ë–æ–º–±–µ—Ä", "–ü—Ä–∏–Ω—Ü–µ—Å—Å–∞(–ë–∞—à–Ω—è)", "–°–∫–µ–ª–µ—Ç—ã", "–ì–æ–±–ª–∏–Ω—ã", 
    "–í—Å–∞–¥–Ω–∏–∫ –Ω–∞ –∫–∞–±–∞–Ω–µ", "–ú—É—à–∫–µ—Ç–µ—Ä", "–ú–∏–Ω–∏ –ü.–ï.–ö.–ö.–ê.", "–í–∞–ª—å–∫–∏—Ä–∏—è", "–ü—Ä–∏–Ω—Ü", "–ú–∏–Ω–∏-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã",
    "–î—Ä–∞–∫–æ–Ω—á–∏–∫", "–ê—Ä–º–∏—è —Å–∫–µ–ª–µ—Ç–æ–≤", "–í–µ–¥—å–º–∞", "–í–æ–∑–¥—É—à–Ω—ã–π —à–∞—Ä", "–¢—Ä–∏ –º—É—à–∫–µ—Ç–µ—Ä–∫–∏", "–õ–µ—Ç—É—á–∫–∞",
    "–í–∞—Ä–≤–∞—Ä—ã", "–û—Ä–¥–∞ –º–∏–Ω—å–æ–Ω–æ–≤", "–ì–æ–±–ª–∏–Ω—ã-–∫–æ–ø–µ–π—â–∏–∫–∏", "–ì–∏–≥–∞–Ω—Ç—Å–∫–∏–π —Å–∫–µ–ª–µ—Ç", "–ü.–ï.–ö.–ö.–ê.", 
    "–ú–∏–Ω—å–æ–Ω—ã", "–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –≥–∏–≥–∞–Ω—Ç", "–û–≥–Ω–µ–Ω–Ω—ã–π –¥—É—Ö", "–õ–µ–¥—è–Ω–æ–π –¥—É—Ö", "–≠–ª–∏—Ç–Ω—ã–µ –≤–∞—Ä–≤–∞—Ä—ã", 
    "–ú–µ–≥–∞–º–∏–Ω—å–æ–Ω", "–õ–µ–¥—è–Ω–æ–π –∫–æ–ª–¥—É–Ω", "–®–∞—Ö—Ç–µ—Ä", "–ü—Ä–∏–Ω—Ü–µ—Å—Å–∞", "–ê–¥—Å–∫–∞—è –ì–æ–Ω—á–∞—è", "–°–ø–∞—Ä–∫–∏", 
    "–î—Ä–æ–≤–æ—Å–µ–∫", "–ì—Ä–æ–º–æ–≤–µ—Ä–∂–µ—Ü", "–ë–∞–Ω–¥–∏—Ç–∫–∞", "–ù–æ—á–Ω–∞—è –≤–µ–¥—å–º–∞", "–ú–∞–≥–∏—á–µ—Å–∫–∏–π –ª—É—á–Ω–∏–∫", "–õ–µ—Ç—É—á–∏–µ –º—ã—à–∏",
    "–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –ø—Ä–∏–∑—Ä–∞–∫", "–í—Å–∞–¥–Ω–∏–∫ –Ω–∞ –±–∞—Ä–∞–Ω–µ (P–≠–ú)", "–ü–∞–ª–∞—á", "–ö—Ä–µ—Å—Ç—å—è–Ω–∏–Ω", "–û—Ö–æ—Ç–Ω–∏–∫",  
    "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –¥—Ä–∞–∫–æ–Ω", "–°—Ç–µ–Ω–æ–±–æ–∏", "–¶–µ–ª–∏—Ç–µ–ª—å–Ω–∏—Ü–∞-–≤–æ–∏–Ω", "–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–µ –∫–∞–±–∞–Ω—ã", "–õ–æ–∑–∞",
    "–ú–µ–≥–∞—Ä—ã—Ü–∞—Ä—å", "–†—ã–±–∞–∫", "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –≥–∏–≥–∞–Ω—Ç", "–í–µ–¥—å–º–∏–Ω–∞ –±–∞–±—É—à–∫–∞", "–ó–æ–ª–æ—Ç–æ–π —Ä—ã—Ü–∞—Ä—å", "–°—Ç—Ä–∞–∂–∏",
    "–ö–æ—Ä–æ–ª—å —Å–∫–µ–ª–µ—Ç–æ–≤", "–ö–æ—Ä–æ–ª–µ–≤–∞ –ª—É—á–Ω–∏—Ü", "–®—É—Å—Ç—Ä—ã–π —à–∞—Ö—Ç—ë—Ä", "–ú–æ–Ω–∞—Ö", "–ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞ –¥—É—Ö–æ–≤", 
    "–ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü", "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –¥—É—Ö", "–î—É—Ö –∏—Å—Ü–µ–ª–µ–Ω–∏—è", "–§–µ–Ω–∏–∫—Å", "–¢–µ–º–Ω—ã–π –ø—Ä–∏–Ω—Ü", "–ü—É—à–∫–∞ –Ω–∞ –∫–æ–ª—ë—Å–∞—Ö",
    "–°—Ç—Ä–µ–ª—ã", "–û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä", "–†–∞–∫–µ—Ç–∞", "–ú–æ–ª–Ω–∏—è", "–†–∞–∑—Ä—è–¥", "–ó–µ—Ä–∫–∞–ª–æ", "–Ø—Ä–æ—Å—Ç—å", "–†—É–Ω–∏—á–µ—Å–∫–∞—è –≥–∏–≥–∞–Ω—Ç—à–∞",
    "–ó–∞–º–æ—Ä–æ–∑–∫–∞", "–Ø–¥", "–ë—Ä–µ–≤–Ω–æ", "–¢–æ—Ä–Ω–∞–¥–æ", "–ö–ª–æ–Ω", "–ó–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–µ", "–°–Ω–µ–∂–æ–∫", "–ë–µ—Ä—Å–µ—Ä–∫—à–∞",
    "–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è –ø–æ—á—Ç–∞", "–ì–æ–±–ª–∏–Ω—Å–∫–∞—è –±–æ—á–∫–∞", "–ë–æ—á–∫–∞ —Å–æ —Å–∫–µ–ª–µ—Ç–∞–º–∏", "–í–∞—Ä–≤–∞—Ä—Å–∫–∞—è –±–æ—á–∫–∞", "–ì–∏–≥–∞–Ω—Ç—Å–∫–∏–π –≥–æ–±–ª–∏–Ω",
    "–ì–æ–±–ª–∏–Ω—Å–∫–æ–µ –ø—Ä–æ–∫–ª—è—Ç–∏–µ", "–ë–µ–∑–¥–Ω–∞", "–ö–∞–Ω–æ–Ω–∏—Ä (–±–∞—à–Ω—è)", "–ì—Ä–∞—Ñ–∏–Ω—è (–±–∞—à–Ω—è)", "–ü–æ–≤–∞—Ä (–±–∞—à–Ω—è)",
    "–ü—É—à–∫–∞", "–¢–µ—Å–ª–∞", "–ú–æ—Ä—Ç–∏—Ä–∞", "–ë–∞—à–Ω—è-–±–æ–º–±–µ–∂–∫–∞", "–ê–¥—Å–∫–∞—è –±–∞—à–Ω—è", "–ê—Ä–±–∞–ª–µ—Ç", "–û–≥–Ω–µ–Ω–Ω–∞—è –ª—É—á–Ω–∏—Ü–∞", 
    "–°–±–æ—Ä—â–∏–∫ —ç–ª–∏–∫—Å–∏—Ä–∞", "–ù–∞–¥–≥—Ä–æ–±–∏–µ", "–•–∏–∂–∏–Ω–∞ –≥–æ–±–ª–∏–Ω–æ–≤", "–•–∏–∂–∏–Ω–∞ –≤–∞—Ä–≤–∞—Ä–æ–≤", "–ü–µ—á—å", "–ö–æ—Å—Ç—è–Ω—ã–µ –¥—Ä–∞–∫–æ–Ω—ã",
    "–ö–ª–µ—Ç–∫–∞ —Å –≥–æ–±–ª–∏–Ω–æ–º", "–ì–æ–±–ª–∏–Ω—Å–∫–∏–π –±—É—Ä", "–õ–µ–¥—è–Ω–æ–π –≥–æ–ª–µ–º", "–ì–æ–ª–µ–º", "–ë–∞–Ω–¥–∞ –≥–æ–±–ª–∏–Ω–æ–≤", "–†–µ–∫—Ä—É—Ç—ã",
    "–†–∞–∑–±–æ–π–Ω–∏–∫–∏", "–≠–ª–µ–∫—Å–∏—Ä–Ω—ã–π –≥–æ–ª–µ–º", "–ì–æ–±–ª–∏–Ω —Å –¥—Ä–æ—Ç–∏–∫–∞–º–∏", "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∫—É—Å—Ç","–¢–∞—Ä–∞–Ω", "–ö–æ–ª–¥—É–Ω",
    "–ü–ª–∞–º–µ–Ω–Ω—ã–π –¥—Ä–∞–∫–æ–Ω", "–ö–ª–∞–¥–±–∏—â–µ", "–ì–æ–±–ª–∏–Ω—Å–∫–∞—è –º–∞—à–∏–Ω–∞", "–ì–ª–∞–≤–Ω–∞—è –±–∞–Ω–¥–∏—Ç–∫–∞", "–ì–æ–±–ª–∏–Ω—à—Ç–µ–π–Ω", "–ì–æ–±–ª–∏–Ω-–ø–æ–¥—Ä—ã–≤–Ω–∏–∫",
],
    "üéÆ –í–∏–¥–µ–æ–∏–≥—Ä—ã": [
    "Minecraft", "Counter-strike 2 (CS 2)", "Dota 2", "GTA 5", "Sims", "Roblox", "Fortnite", "PUBG", "Terraria",
    "Valorant", "Portal 2", "Call of Duty", "Team fortress 2", "Rust", "Genshin Impact", "Cyberpank 2077", "War Thunder",
    "World of Tanks", "Hello Neighbord", "Subway Surfers", "Free Fire", "Clash of clans", "Need for Speed", "Among as",
    "Clash Royal", "Temple Run", "Fruit Ninja", "Angry Birds", "Brawl Stars", "Homescapes", "Hill climb racing", 
    "Tom", "Geometry dash", "Flappy bird", "Hay Day", "Shadow fight", "Sonic", "stumble guys", "Tetris", "Chess",
    "Checkers", "Block blast", "Granny", 
],
    
    "‚õè Minecraft": [
        # --- –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –∏ –ø—Ä–∏—Ä–æ–¥–∞ ---
        "–ë–µ–¥—Ä–æ–∫", "–ë—É–ª—ã–∂–Ω–∏–∫", "–ì–ª—É–±–∏–Ω–Ω—ã–π —Å–ª–∞–Ω–µ—Ü", "–¢—É—Ñ", "–ö–∞–ª—å—Ü–∏—Ç", "–î–∏–æ—Ä–∏—Ç", "–ê–Ω–¥–µ–∑–∏—Ç", "–ì—Ä–∞–Ω–∏—Ç",
        "–ó–µ–º–ª—è", "–ü–æ–¥–∑–æ–ª", "–ú–∏—Ü–µ–ª–∏–π", "–î–µ—Ä–Ω", "–ì—Ä—è–∑—å", "–ü–ª–æ—Ç–Ω–∞—è –≥—Ä—è–∑—å", "–ì–ª–∏–Ω–∞", "–¢–µ—Ä—Ä–∞–∫–æ—Ç–∞",
        "–ü–µ—Å–æ–∫", "–ö—Ä–∞—Å–Ω—ã–π –ø–µ—Å–æ–∫", "–ì—Ä–∞–≤–∏–π", "–û–±—Å–∏–¥–∏–∞–Ω", "–ü–ª–∞—á—É—â–∏–π –æ–±—Å–∏–¥–∏–∞–Ω", "–ú–∞–≥–º–∞",
        "–õ–µ–¥", "–ü–ª–æ—Ç–Ω—ã–π –ª–µ–¥", "–°–∏–Ω–∏–π –ª–µ–¥", "–°–Ω–µ–≥", "–°–ª–æ–π —Å–Ω–µ–≥–∞", "–ü–ª–æ—Ç–Ω—ã–π —Å–Ω–µ–≥",
    
        # --- –î–µ—Ä–µ–≤–æ (–≤—Å–µ –≤–∏–¥—ã) ---
        "–î—É–±–æ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", "–ë–µ—Ä–µ–∑–æ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", "–ï–ª–æ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", "–¢—Ä–æ–ø–∏—á–µ—Å–∫–æ–µ –±—Ä–µ–≤–Ω–æ", 
        "–ê–∫–∞—Ü–∏–µ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", "–¢–µ–º–Ω–æ–µ –¥—É–±–æ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", "–ú–∞–Ω–≥—Ä–æ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", "–í–∏—à–Ω–µ–≤–æ–µ –±—Ä–µ–≤–Ω–æ", 
        "–û–±—Ç–µ—Å–∞–Ω–Ω–æ–µ –±—Ä–µ–≤–Ω–æ", "–î–æ—Å–∫–∏", "–°—Ç—É–ø–µ–Ω—å–∫–∏", "–ü–ª–∏—Ç–∞", "–ó–∞–±–æ—Ä", "–ö–∞–ª–∏—Ç–∫–∞", "–î–≤–µ—Ä—å", "–õ—é–∫",
    
        # --- –†—É–¥—ã –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ ---
        "–£–≥–æ–ª—å–Ω–∞—è —Ä—É–¥–∞", "–ñ–µ–ª–µ–∑–Ω–∞—è —Ä—É–¥–∞", "–ú–µ–¥–Ω–∞—è —Ä—É–¥–∞", "–ó–æ–ª–æ—Ç–∞—è —Ä—É–¥–∞", "–†–µ–¥—Å—Ç–æ—É–Ω–æ–≤–∞—è —Ä—É–¥–∞",
        "–õ–∞–∑—É—Ä–∏—Ç–æ–≤–∞—è —Ä—É–¥–∞", "–ê–ª–º–∞–∑–Ω–∞—è —Ä—É–¥–∞", "–ò–∑—É–º—Ä—É–¥–Ω–∞—è —Ä—É–¥–∞", "–ü–æ–∑–æ–ª–æ—á–µ–Ω–Ω—ã–π —á–µ—Ä–Ω–∏—Ç",
        "–î—Ä–µ–≤–Ω–∏–µ –æ–±–ª–æ–º–∫–∏", "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π —Å–∫—Ä–∞–ø", "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π —Å–ª–∏—Ç–æ–∫", "–ú–µ–¥–Ω—ã–π —Å–ª–∏—Ç–æ–∫",
        "–ê–º–µ—Ç–∏—Å—Ç–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä", "–û—Å–∫–æ–ª–æ–∫ –∞–º–µ—Ç–∏—Å—Ç–∞", "–≠—Ö–æ-–æ—Å–∫–æ–ª–æ–∫", "–û—Å–∫–æ–ª–æ–∫ –ø—Ä–∏–∑–º–∞—Ä–∏–Ω–∞",
    
        # --- –ù–µ–∑–µ—Ä –∏ –≠–Ω–¥–µ—Ä –º–∏—Ä ---
        "–ù–µ–∑–µ—Ä–∞–∫", "–ö–∞–º–µ–Ω—å –≠–Ω–¥–∞", "–ü–µ—Å–æ–∫ –¥—É—à", "–ü–æ—á–≤–∞ –¥—É—à", "–ë–∞–∑–∞–ª—å—Ç", "–ß–µ—Ä–Ω–∏—Ç",
        "–ò—Å–∫–∞–∂–µ–Ω–Ω—ã–π –≥—Ä–∏–±–æ–∫", "–ë–∞–≥—Ä–æ–≤—ã–π –≥—Ä–∏–±–æ–∫", "–°–≤–µ—Ç–æ–∫–∞–º–µ–Ω—å", "–°—Ç–µ—Ä–∂–µ–Ω—å –≠–Ω–¥–∞",
        "–ü—É—Ä–ø—É—Ä–Ω—ã–π –±–ª–æ–∫", "–Ø–π—Ü–æ –¥—Ä–∞–∫–æ–Ω–∞", "–°–∫–æ—Ä–ª—É–ø–∞ —à–∞–ª–∫–µ—Ä–∞", "–®–∞–ª–∫–µ—Ä–æ–≤—ã–π —è—â–∏–∫",
    
        # --- –ú–µ—Ö–∞–Ω–∏–∑–º—ã –∏ –†–µ–¥—Å—Ç–æ—É–Ω ---
        "–ü–æ—Ä—à–µ–Ω—å", "–õ–∏–ø–∫–∏–π –ø–æ—Ä—à–µ–Ω—å", "–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å", "–†–∞–∑–¥–∞—Ç—á–∏–∫", "–í—ã–±—Ä–∞—Å—ã–≤–∞—Ç–µ–ª—å",
        "–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ–ª—å", "–ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä", "–†—ã—á–∞–≥", "–ö–Ω–æ–ø–∫–∞", "–ù–∞–∂–∏–º–Ω–∞—è –ø–ª–∏—Ç–∞", "–ú–∏—à–µ–Ω—å",
        "–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –±–ª–æ–∫", "–ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å", "–õ–∞–º–ø–∞", "–î–∞—Ç—á–∏–∫ –¥–Ω–µ–≤–Ω–æ–≥–æ —Å–≤–µ—Ç–∞",
        "–ì—Ä–æ–º–æ–æ—Ç–≤–æ–¥", "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—Ä—Å—Ç–∞–∫", "–ö–∞–ª–∏–±—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫–∞–ª–∫–æ–≤—ã–π —Å–µ–Ω—Å–æ—Ä",
    
        # --- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –û—Ä—É–∂–∏–µ –∏ –ë—Ä–æ–Ω—è ---
        "–ü–æ–¥–∑–æ—Ä–Ω–∞—è —Ç—Ä—É–±–∞", "–©–∏—Ç", "–¢—Ä–µ–∑—É–±–µ—Ü", "–ê—Ä–±–∞–ª–µ—Ç", "–õ—É–∫", "–û–≥–Ω–µ–≤–æ", "–ü–æ–≤–æ–¥–æ–∫",
        "–ë–∏—Ä–∫–∞", "–°–µ–¥–ª–æ", "–ö–æ–Ω—Å–∫–∞—è –±—Ä–æ–Ω—è", "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π —à–ª–µ–º", "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π –Ω–∞–≥—Ä—É–¥–Ω–∏–∫",
        "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–µ –ø–æ–Ω–æ–∂–∏", "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–µ –±–æ—Ç–∏–Ω–∫–∏", "–≠–ª–∏—Ç—Ä–∞", "–¢–æ—Ç–µ–º –±–µ—Å—Å–º–µ—Ä—Ç–∏—è",
    
        # --- –ï–¥–∞ –∏ –ó–µ–ª—å–µ–≤–∞—Ä–µ–Ω–∏–µ ---
        "–ó–æ–ª–æ—Ç–∞—è –º–æ—Ä–∫–æ–≤—å", "–ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–æ–ª–æ—Ç–æ–µ —è–±–ª–æ–∫–æ", "–¢—É—à–µ–Ω–æ–µ –∫—Ä–æ–ª–∏—á—å–µ –º—è—Å–æ",
        "–õ–æ–º—Ç–∏–∫ –∞—Ä–±—É–∑–∞", "–Ø–≥–æ–¥–∞ —Å–≤–µ—Ç—è—â–∞—è—Å—è", "–•–æ—Ä—É—Å", "–ü—É–∑—ã—Ä–µ–∫ –æ–ø—ã—Ç–∞", "–ì–ª–∞–∑ –≠–Ω–¥–µ—Ä–∞",
        "–°–ª–µ–∑–∞ –ì–∞—Å—Ç–∞", "–°–≥—É—Å—Ç–æ–∫ –º–∞–≥–º—ã", "–î—ã—Ö–∞–Ω–∏–µ –¥—Ä–∞–∫–æ–Ω–∞", "–ó–µ–ª—å–µ –Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç–∏"
    ] 
}
game_data = {
    "selected_theme": list(themes.keys())[0],
    "players": {}  # ID: –ò–º—è
}

# --- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ---

def delete_msg(chat_id, message_id, delay):
    time.sleep(delay)
    try:
        bot.delete_message(chat_id, message_id)
    except:
        pass

def send_role_msg(p_id, text, chat_id):
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–æ–ª—å –≤ –ª–∏—á–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏—è"""
    try:
        #msg = bot.send_message(p_id, f"{text}\n\n–¢–µ–º–∞: {game_data['selected_theme']}\n‚åõ –ò—Å—á–µ–∑–Ω–µ—Ç —á–µ—Ä–µ–∑ 60 —Å–µ–∫.")
        msg = bot.send_message(p_id, f"{text}\n\n‚åõ –ò—Å—á–µ–∑–Ω–µ—Ç —á–µ—Ä–µ–∑ 30 —Å–µ–∫.")
        threading.Thread(target=delete_msg, args=(p_id, msg.message_id, 30)).start()
    except:
        bot.send_message(chat_id, f"‚ö†Ô∏è –ò–≥—Ä–æ–∫ {game_data['players'].get(p_id, p_id)} –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞ –≤ –õ–°!")

def main_menu_markup():
    markup = types.InlineKeyboardMarkup()
    
    # –ö–Ω–æ–ø–∫–∏ —Å—Å—ã–ª–æ–∫ (–°–ª–æ–≤–∞ –∏ –ê–¥–º–∏–Ω)
    btn_words = types.InlineKeyboardButton("üìñ –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤", url="https://telegra.ph/Spisok-slov-01-26") # –°—é–¥–∞ —Å—Å—ã–ª–∫—É
    btn_admin = types.InlineKeyboardButton("üë®‚Äçüíª –ê–¥–º–∏–Ω", url="https://t.me/Step20110") # –°—é–¥–∞ –ª–æ–≥–∏–Ω
    
    # –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–π
    btn_theme = types.InlineKeyboardButton(f"üìÅ –¢–µ–º–∞: {game_data['selected_theme']}", callback_data="change_theme")
    btn_join = types.InlineKeyboardButton(f"üôã –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å ({len(game_data['players'])})", callback_data="join_game")
    btn_start = types.InlineKeyboardButton("üöÄ –ù–ê–ß–ê–¢–¨ –ò–ì–†–£", callback_data="run_game")
    btn_reset = types.InlineKeyboardButton("üîÑ –°–±—Ä–æ—Å", callback_data="reset_all")
    
    # –†–∞—Å—Å—Ç–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –∫—Ä–∞—Å–∏–≤–æ
    markup.row(btn_words, btn_admin)
    markup.row(btn_theme)
    markup.row(btn_join)
    markup.row(btn_start)
    markup.row(btn_reset)
    return markup

# --- –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò ---

@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(
        message.chat.id, 
        'üéÆ –í–∞—Å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –∏–≥—Ä–∞: "–®–ø–∏–æ–Ω"\n\n–°–Ω–∏–∑—É –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.\n\n–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –î–û–õ–ë–û–Å–ë–´ –ù–ï –ì–û–õ–û–°–£–ô–¢–ï –ü–†–û–¢–ò–í –Ø–†–ò–ö–ê!',
        parse_mode="Markdown",
        reply_markup=main_menu_markup()
    )

@bot.callback_query_handler(func=lambda call: True)
def callback_query(call):
    chat_id = call.message.chat.id
    user_id = call.from_user.id
    user_name = call.from_user.first_name

    if call.data == "join_game":
        if user_id not in game_data["players"]:
            game_data["players"][user_id] = user_name
            bot.answer_callback_query(call.id, "–¢—ã –≤ –∏–≥—Ä–µ!")
        else:
            bot.answer_callback_query(call.id, "–¢—ã —É–∂–µ –≤ —Å–ø–∏—Å–∫–µ")
        bot.edit_message_reply_markup(chat_id, call.message.message_id, reply_markup=main_menu_markup())

    elif call.data == "change_theme":
        markup = types.InlineKeyboardMarkup()
        for t in themes.keys():
            markup.add(types.InlineKeyboardButton(t, callback_data=f"set_{t}"))
        bot.edit_message_text("–í—ã–±–µ—Ä–∏ —Ç–µ–º—É:", chat_id, call.message.message_id, reply_markup=markup)

    elif call.data.startswith("set_"):
        game_data["selected_theme"] = call.data.replace("set_", "")
        bot.edit_message_text(f"‚úÖ –¢–µ–º–∞ –≤—ã–±—Ä–∞–Ω–∞!", chat_id, call.message.message_id, reply_markup=main_menu_markup())

    elif call.data == "reset_all":
        game_data["players"] = {}
        bot.edit_message_text("üîÑ –°–ø–∏—Å–æ–∫ –æ—á–∏—â–µ–Ω!", chat_id, call.message.message_id, reply_markup=main_menu_markup())

    elif call.data == "run_game":
        if len(game_data["players"]) < 3:
            bot.answer_callback_query(call.id, "–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 3 –∏–≥—Ä–æ–∫–∞!", show_alert=True)
            return

        player_ids = list(game_data["players"].keys())
        theme_words = themes[game_data["selected_theme"]]
        mode_roll = random.randint(1, 100) # –®–∞–Ω—Å —Ä–µ–∂–∏–º–∞
        

        # –†–ï–ñ–ò–ú–´ –ò–ì–†–´
        if mode_roll <= 30:  # 30% —à–∞–Ω—Å: –®–ø–∏–æ–Ω–∞ –Ω–µ—Ç
            location = random.choice(theme_words)
            for p_id in player_ids:
                send_role_msg(p_id, f"üìç –í—ã–ø–∞–ª–æ —Å–ª–æ–≤–æ: {location}\n–¢–µ–º–∞: {game_data['selected_theme']}\n–ñ–µ–ª–∞—é –ù–∞–π—Ç–∏ –®–ø–∏–æ–Ω–∞!", chat_id)
            

        elif mode_roll <= 45: # 15% —à–∞–Ω—Å: –í—Å–µ —à–ø–∏–æ–Ω—ã
            for p_id in player_ids:
                send_role_msg(p_id, f"–†–æ–ª—å: üïµÔ∏è –®–ü–ò–û–ù!\n–¢–µ–º–∞: {game_data['selected_theme']}\n –ñ–µ–ª–∞—é —É–¥–∞—á–∏!", chat_id)

        elif mode_roll <= 60: # 15% —à–∞–Ω—Å: –ü–æ–ª–Ω—ã–π —Ö–∞–æ—Å (—Ä–∞–∑–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏)
            for p_id in player_ids:
                rand_loc = random.choice(theme_words)
                send_role_msg(p_id, f"–†–æ–ª—å: üïä –ú–∏—Ä–Ω—ã–π\nüìç –í—ã–ø–∞–ª–æ —Å–ª–æ–≤–æ: {rand_loc}\n–¢–µ–º–∞: {game_data['selected_theme']}\n –£–¥–∞—á–∏ –Ω–∞–π—Ç–∏ –®–ø–∏–æ–Ω–∞!", chat_id)

        else: # 40% —à–∞–Ω—Å: –û–±—ã—á–Ω–∞—è –∏–≥—Ä–∞
            location = random.choice(theme_words)
            spy_id = random.choice(player_ids)
            for p_id in player_ids:
                if p_id == spy_id:
                    send_role_msg(p_id, f"–†–æ–ª—å: üïµÔ∏è –®–ü–ò–û–ù!\n–¢–µ–º–∞: {game_data['selected_theme']}\n–ñ–µ–ª–∞—é —É–¥–∞—á–∏!", chat_id)
                else:
                    send_role_msg(p_id, f"–†–æ–ª—å: üïä –ú–∏—Ä–Ω—ã–π\nüìç –í—ã–ø–∞–ª–æ —Å–ª–æ–≤–æ: {location}\n–¢–µ–º–∞: {game_data['selected_theme']}\n –£–¥–∞—á–∏ –Ω–∞–π—Ç–∏ –®–ø–∏–æ–Ω–∞!", chat_id)


print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ —Å–ª—É–∂–∏—Ç—å(P.S. –ì–µ–Ω–µ—Ä–∞–ª –≥–∞–≤—Å!)")
bot.polling(none_stop=True)


